# HBnB API Project

This project is a modular and scalable RESTful API for the HBnB platform, built using **Flask** and **Flask-RESTx**. It follows a clean architecture with separation of concerns between the API (presentation layer), business logic, and persistence.

---

## ğŸ“ Project Structure

```
hbnb/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ __init__.py               # Initializes Flask app and API
â”‚   â”œâ”€â”€ api/                      # API routes (organized by version)
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ v1/
â”‚   â”‚       â”œâ”€â”€ __init__.py
â”‚   â”‚       â”œâ”€â”€ users.py          # User-related endpoints
â”‚   â”‚       â”œâ”€â”€ places.py         # Place-related endpoints
â”‚   â”‚       â”œâ”€â”€ reviews.py        # Review-related endpoints
â”‚   â”‚       â””â”€â”€ amenities.py      # Amenity-related endpoints
â”‚   â”œâ”€â”€ models/                   # Business logic / domain models
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ user.py
â”‚   â”‚   â”œâ”€â”€ place.py
â”‚   â”‚   â”œâ”€â”€ review.py
â”‚   â”‚   â””â”€â”€ amenity.py
â”‚   â”œâ”€â”€ services/                 # Facade pattern for orchestration
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ facade.py
â”‚   â””â”€â”€ repositories/            # In-memory repository (replaceable by DB)
â”‚       â”œâ”€â”€ __init__.py
â”‚       â””â”€â”€ in_memory.py
â”œâ”€â”€ run.py                        # Entry point to run the app
â”œâ”€â”€ config.py                     # App configuration
â”œâ”€â”€ requirements.txt              # List of Python dependencies
â””â”€â”€ README.md                     # Project documentation
```

---

## ğŸ“¬ Endpoints Overview

| Resource  | Endpoint                  | Methods       | Description                    |
|-----------|---------------------------|---------------|--------------------------------|
| Users     | `/api/v1/users/`          | GET, POST     | List or create users           |
| Users     | `/api/v1/users/<id>`      | GET, PUT      | Retrieve or update a user      |
| Places    | `/api/v1/places/`         | GET, POST     | List or create places          |
| Reviews   | `/api/v1/reviews/`        | GET, POST     | List or create reviews         |
| Reviews   | `/api/v1/reviews/<id>`    | GET, DELETE   | Retrieve or delete a review    |
| Amenities | `/api/v1/amenities/`      | GET, POST     | List or create amenities       |

## âœ… Features

- Flask-based REST API with clean modular structure
- In-memory data storage (easily swappable with database)
- CRUD endpoints for users, places, reviews, and amenities
- Centralized facade layer for orchestrating business logic
- Integrated Swagger UI documentation (`/api/v1/`)

---

## âš™ï¸ Installation

### 1. Clone the repository

```bash
git clone https://github.com/JulienPul/holbertonschool-hbnb.git
cd holbertonschool-hbnb/part2
```

### 2. Create and activate a virtual environment

```bash
python3 -m venv venv
source venv/bin/activate
```

### 3. Install dependencies

```bash
pip install -r requirements.txt
```

---

## ğŸš€ Running the App

```bash
python3 run.py
```
Flask-RESTx auto-generates a Swagger UI interface
Open your browser at:  
ğŸ‘‰ [http://127.0.0.1:5000/api/v1/](http://127.0.0.1:5000/api/v1/)

You will see the **Swagger UI**, auto-generated by Flask-RESTx.
Use it to explore and test the available endpoints with schemas and example responses.
---

## ğŸ”§ Configuration

The file `config.py` defines application settings. You can switch between environments by changing:

```python
config = {
    'development': DevelopmentConfig,
    'default': DevelopmentConfig
}
```

---

## ğŸ§  Business Logic Layer

The models/ directory defines core domain entities. Each class encapsulates its own validation rules and behavior.

User
Represents a user of the platform.

```python
from app.models.user import User

user = User("Julien", "Pulon", "julien@example.com")
print(user.to_dict())
```

Review
Represents a review left by a user on a place.

```python
from app.models.place import Place

place = Place("Villa", "Beachfront house", 200.0, 43.6, 1.5, user)
```

Review
Represents a review left by a user on a place.

```python
from app.models.review import Review

review = Review("Great!", 5, place, user)
```

Amenity
Represents an amenity (e.g., WiFi, Pool) associated with a place.

```python
from app.models.amenity import Amenity

wifi = Amenity("WiFi")
place.add_amenity(wifi)
```


## ğŸ“Œ Notes

- The app currently uses an **in-memory repository** (`InMemoryRepository`)  
- A real database (e.g., PostgreSQL with SQLAlchemy) will be added in future versions  
- The `HBnBFacade` class acts as the **single point of access** to logic and storage

---

## ğŸ§ª Testing

### Automated Tests

```bash
pytest
```

Make sure `run.py` and `create_app()` are correctly configured to accept the in-memory repository.

### Manual Tests with cURL

#### âœ… Create a User

```bash
curl -X POST http://127.0.0.1:5000/api/v1/users/ -H "Content-Type: application/json" -d '{
  "first_name": "John",
  "last_name": "Doe",
  "email": "john@example.com"
}'
```

#### âŒ Invalid Email

```bash
curl -X POST http://127.0.0.1:5000/api/v1/users/ -H "Content-Type: application/json" -d '{
  "first_name": "",
  "last_name": "Doe",
  "email": "notanemail"
}'
```

---

## ğŸ“š Technologies

- Python 3.8+
- Flask
- Flask-RESTx
- REST principles
- Clean architecture

---

## ğŸ§¾ License

This project is part of the Holberton School curriculum and is intended for educational purposes only.

## Authors
developpers :
Haggui Razafimaitso
github: https://github.com/hagguishel
Julien Pulon
github: https://github.com/JulienPul
updated: 20/06/2025
